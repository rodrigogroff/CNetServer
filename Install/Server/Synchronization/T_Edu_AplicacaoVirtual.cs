// ###################################################### 
// ## SyCraf Engine Codegen                          #### 
// ###################################################### 
// ## This file is entirely written by               #### 
// ## the construction bot. DO NOT EDIT THIS FILE.   #### 
// ###################################################### 

using System;
using System.IO;
using System.Threading;
using System.Collections;

namespace SyCrafEngine
{
	public class T_Edu_AplicacaoVirtual : Synchronization
	{
		private string i_unique = "0";
		private string fk_cartao = "0";
		private string fk_empresaVirtual = "0";
		private string vr_aplicado = "0";
		private string dt_aplic = "1900-01-01 00:00:00";
		private string tg_neg = "";
		private string vr_fundo_hora = "0";
		private string vr_preco_fundo = "0";
		
		public int var_FieldCount = 8;
		
		public T_Edu_AplicacaoVirtual ( infra_Patch i_patch )  : base ( i_patch )
		{
			var_Tablename = TB_T_EDU_APLICACAOVIRTUAL.Alias;
		}
		public string exportNames()
		{
			return "fk_cartao,fk_empresaVirtual,vr_aplicado,dt_aplic,tg_neg,vr_fundo_hora,vr_preco_fundo";
		}
		
		public string exportCSV()
		{
			return i_unique + str_field_sep + fk_cartao + str_field_sep + fk_empresaVirtual + str_field_sep + vr_aplicado + str_field_sep + dt_aplic + str_field_sep + tg_neg + str_field_sep + vr_fundo_hora + str_field_sep + vr_preco_fundo;
		}
		
		public void Reset()
		{
			i_unique = "0";
			fk_cartao = "0";
			fk_empresaVirtual = "0";
			vr_aplicado = "0";
			dt_aplic = "1900-01-01 00:00:00";
			tg_neg = "";
			vr_fundo_hora = "0";
			vr_preco_fundo = "0";
		}
		
		public void copy ( ref T_Edu_AplicacaoVirtual cpy )
		{
			fk_cartao = cpy.fk_cartao;
			fk_empresaVirtual = cpy.fk_empresaVirtual;
			vr_aplicado = cpy.vr_aplicado;
			dt_aplic = cpy.dt_aplic;
			tg_neg = cpy.tg_neg;
			vr_fundo_hora = cpy.vr_fundo_hora;
			vr_preco_fundo = cpy.vr_preco_fundo;
		}
		
		public override void fetchRetrieve ( ref DB_Row row )
		{
			i_unique = row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.i_unique );
			fk_cartao = row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.fk_cartao );
			fk_empresaVirtual = row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.fk_empresaVirtual );
			vr_aplicado = row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.vr_aplicado );
			dt_aplic = ConvertTime ( row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.dt_aplic ) );
			tg_neg = row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.tg_neg );
			vr_fundo_hora = row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.vr_fundo_hora );
			vr_preco_fundo = row.GetField ( TB_T_EDU_APLICACAOVIRTUAL.vr_preco_fundo );
		}
		
		public bool synchronize_T_Edu_AplicacaoVirtual ( )
		{
			try{
			
			if ( m_hshChangedFields.Count == 0 )
				return true;
			
			StartUpdate();
		
			if ( m_hshChangedFields [ "fk_cartao" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_EDU_APLICACAOVIRTUAL.fk_cartao , fk_cartao , TB_T_EDU_APLICACAOVIRTUAL.type_fk_cartao );
			if ( m_hshChangedFields [ "fk_empresaVirtual" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_EDU_APLICACAOVIRTUAL.fk_empresaVirtual , fk_empresaVirtual , TB_T_EDU_APLICACAOVIRTUAL.type_fk_empresaVirtual );
			if ( m_hshChangedFields [ "vr_aplicado" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_EDU_APLICACAOVIRTUAL.vr_aplicado , vr_aplicado , TB_T_EDU_APLICACAOVIRTUAL.type_vr_aplicado );
			if ( m_hshChangedFields [ "dt_aplic" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_EDU_APLICACAOVIRTUAL.dt_aplic , dt_aplic , TB_T_EDU_APLICACAOVIRTUAL.type_dt_aplic );
			if ( m_hshChangedFields [ "tg_neg" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_EDU_APLICACAOVIRTUAL.tg_neg , tg_neg , TB_T_EDU_APLICACAOVIRTUAL.type_tg_neg );
			if ( m_hshChangedFields [ "vr_fundo_hora" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_EDU_APLICACAOVIRTUAL.vr_fundo_hora , vr_fundo_hora , TB_T_EDU_APLICACAOVIRTUAL.type_vr_fundo_hora );
			if ( m_hshChangedFields [ "vr_preco_fundo" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_EDU_APLICACAOVIRTUAL.vr_preco_fundo , vr_preco_fundo , TB_T_EDU_APLICACAOVIRTUAL.type_vr_preco_fundo );
		
			m_gen_dbStatement.AddWhere ( TB_T_EDU_APLICACAOVIRTUAL.i_unique, i_unique, TB_T_EDU_APLICACAOVIRTUAL.type_i_unique );
		
			} catch ( System.Exception ex ) {
				StreamWriter wr = new StreamWriter ( 	"CRITICAL_" + var_Tablename + "_" + "_" + DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Day.ToString().PadLeft ( 2, '0' ) + "_" + DateTime.Now.Hour.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Minute.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Second.ToString().PadLeft ( 2, '0' ) + ".txt" );
				wr.WriteLine ( ex.ToString() );
				wr.Flush();
				wr.Close();
			}
		
			return Update();
		}
			
		public string get_identity() { return i_unique; } 
		public string get_fk_cartao() { return fk_cartao; } 
		public string get_fk_empresaVirtual() { return fk_empresaVirtual; } 
		public string get_vr_aplicado() { return vr_aplicado; } 
		public string get_dt_aplic() { return dt_aplic; } 
		public string get_tg_neg() { return tg_neg; } 
		public string get_vr_fundo_hora() { return vr_fundo_hora; } 
		public string get_vr_preco_fundo() { return vr_preco_fundo; } 
			
		public long get_int_fk_cartao() { return Convert.ToInt64 ( fk_cartao ); } 
		public long get_int_fk_empresaVirtual() { return Convert.ToInt64 ( fk_empresaVirtual ); } 
		public long get_int_vr_aplicado() { return Convert.ToInt64 ( vr_aplicado ); } 
		public long get_int_vr_fundo_hora() { return Convert.ToInt64 ( vr_fundo_hora ); } 
		public long get_int_vr_preco_fundo() { return Convert.ToInt64 ( vr_preco_fundo ); } 
			
		public void set_fk_cartao ( string val ) { fk_cartao = val; m_hshChangedFields [ "fk_cartao" ]="."; } 
		public void set_fk_empresaVirtual ( string val ) { fk_empresaVirtual = val; m_hshChangedFields [ "fk_empresaVirtual" ]="."; } 
		public void set_vr_aplicado ( string val ) { vr_aplicado = val; m_hshChangedFields [ "vr_aplicado" ]="."; } 
		public void set_dt_aplic ( string val ) { dt_aplic = val; m_hshChangedFields [ "dt_aplic" ]="."; } 
		public void set_tg_neg ( string val ) { tg_neg = val; m_hshChangedFields [ "tg_neg" ]="."; } 
		public void set_vr_fundo_hora ( string val ) { vr_fundo_hora = val; m_hshChangedFields [ "vr_fundo_hora" ]="."; } 
		public void set_vr_preco_fundo ( string val ) { vr_preco_fundo = val; m_hshChangedFields [ "vr_preco_fundo" ]="."; } 
		
		public void set_fk_cartao ( long val ) { fk_cartao = Convert.ToString(val); m_hshChangedFields [ "fk_cartao" ]="."; } 
		public void set_fk_empresaVirtual ( long val ) { fk_empresaVirtual = Convert.ToString(val); m_hshChangedFields [ "fk_empresaVirtual" ]="."; } 
		public void set_vr_aplicado ( long val ) { vr_aplicado = Convert.ToString(val); m_hshChangedFields [ "vr_aplicado" ]="."; } 
		public void set_vr_fundo_hora ( long val ) { vr_fundo_hora = Convert.ToString(val); m_hshChangedFields [ "vr_fundo_hora" ]="."; } 
		public void set_vr_preco_fundo ( long val ) { vr_preco_fundo = Convert.ToString(val); m_hshChangedFields [ "vr_preco_fundo" ]="."; } 
			
		public void fieldSelection()
		{
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.i_unique );
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.fk_cartao );
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.fk_empresaVirtual );
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.vr_aplicado );
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.dt_aplic );
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.tg_neg );
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.vr_fundo_hora );
			m_gen_dbStatement.AddSelect ( TB_T_EDU_APLICACAOVIRTUAL.vr_preco_fundo );
		}
			
		public bool selectAll()
		{
			do
			{
				StartSelect();
				fieldSelection();
				
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return  HasRows();
		}
		
		public bool selectIdentity ( string identity )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhere ( TB_T_EDU_APLICACAOVIRTUAL.i_unique, identity, TB_T_EDU_APLICACAOVIRTUAL.type_i_unique );
			
				if ( !executeQuery())
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			if ( HasRows() == true)
			{
				DB_Row row = m_db_result.GetFirstRow();
				fetchRetrieve ( ref row );
				return true;
			}
			
			return false;
		}
		
		public bool create_T_Edu_AplicacaoVirtual ( )
		{
			try{
			string new_id = "";
			
			StartInsert();
			
			m_gen_dbStatement.AddValue ( TB_T_EDU_APLICACAOVIRTUAL.fk_cartao, fk_cartao, TB_T_EDU_APLICACAOVIRTUAL.type_fk_cartao );
			m_gen_dbStatement.AddValue ( TB_T_EDU_APLICACAOVIRTUAL.fk_empresaVirtual, fk_empresaVirtual, TB_T_EDU_APLICACAOVIRTUAL.type_fk_empresaVirtual );
			m_gen_dbStatement.AddValue ( TB_T_EDU_APLICACAOVIRTUAL.vr_aplicado, vr_aplicado, TB_T_EDU_APLICACAOVIRTUAL.type_vr_aplicado );
			m_gen_dbStatement.AddValue ( TB_T_EDU_APLICACAOVIRTUAL.dt_aplic, dt_aplic, TB_T_EDU_APLICACAOVIRTUAL.type_dt_aplic );
			m_gen_dbStatement.AddValue ( TB_T_EDU_APLICACAOVIRTUAL.tg_neg, tg_neg, TB_T_EDU_APLICACAOVIRTUAL.type_tg_neg );
			m_gen_dbStatement.AddValue ( TB_T_EDU_APLICACAOVIRTUAL.vr_fundo_hora, vr_fundo_hora, TB_T_EDU_APLICACAOVIRTUAL.type_vr_fundo_hora );
			m_gen_dbStatement.AddValue ( TB_T_EDU_APLICACAOVIRTUAL.vr_preco_fundo, vr_preco_fundo, TB_T_EDU_APLICACAOVIRTUAL.type_vr_preco_fundo );
			
			if ( !ExecuteScalar ( ref new_id ) )
				return false;
			
			i_unique = new_id;
			
			} catch ( System.Exception ex ) {
				StreamWriter wr = new StreamWriter ( 	"CRITICAL_" + var_Tablename + "_" + "_" + DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Day.ToString().PadLeft ( 2, '0' ) + "_" + DateTime.Now.Hour.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Minute.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Second.ToString().PadLeft ( 2, '0' ) + ".txt" );
				wr.WriteLine ( ex.ToString() );
				wr.Flush();
				wr.Close();
			}
			
			return true;
		}
			
		public bool delete ( )
		{
		
			bool ret = false;
		
			try{
			StartDelete();
			
			if ( i_unique != "0" )
				m_gen_dbStatement.AddWhere ( TB_T_EDU_APLICACAOVIRTUAL.i_unique, i_unique, TB_T_EDU_APLICACAOVIRTUAL.type_i_unique );
			
			ret = Execute();
			
			} catch ( System.Exception ex ) {
				StreamWriter wr = new StreamWriter ( 	"CRITICAL_" + var_Tablename + "_" + "_" + DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Day.ToString().PadLeft ( 2, '0' ) + "_" + DateTime.Now.Hour.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Minute.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Second.ToString().PadLeft ( 2, '0' ) + ".txt" );
				wr.WriteLine ( ex.ToString() );
				wr.Flush();
				wr.Close();
			}
			
			return ret; 
		}
			
		public bool select_rows_date ( string val_dt_aplic, string val_fk_cartao )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhere ( TB_T_EDU_APLICACAOVIRTUAL.dt_aplic, val_dt_aplic , TB_T_EDU_APLICACAOVIRTUAL.type_dt_aplic);
				m_gen_dbStatement.AddWhere ( TB_T_EDU_APLICACAOVIRTUAL.fk_cartao, val_fk_cartao , TB_T_EDU_APLICACAOVIRTUAL.type_fk_cartao);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
			
		public bool select_rows_cart_emp ( string val_fk_cartao, string val_fk_empresaVirtual )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhere ( TB_T_EDU_APLICACAOVIRTUAL.fk_cartao, val_fk_cartao , TB_T_EDU_APLICACAOVIRTUAL.type_fk_cartao);
				m_gen_dbStatement.AddWhere ( TB_T_EDU_APLICACAOVIRTUAL.fk_empresaVirtual, val_fk_empresaVirtual , TB_T_EDU_APLICACAOVIRTUAL.type_fk_empresaVirtual);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
	}
}
