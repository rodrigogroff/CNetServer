// ###################################################### 
// ## SyCraf Engine Codegen                          #### 
// ###################################################### 
// ## This file is entirely written by               #### 
// ## the construction bot. DO NOT EDIT THIS FILE.   #### 
// ###################################################### 

using System;
using System.IO;
using System.Threading;
using System.Collections;

namespace SyCrafEngine
{
	public class T_Chamado : Synchronization
	{
		private string i_unique = "0";
		private string fk_loja = "0";
		private string tg_fechado = "0";
		private string fk_operador = "0";
		private string nu_prioridade = "0";
		private string nu_categoria = "0";
		private string dt_abertura = "1900-01-01 00:00:00";
		private string dt_fechamento = "1900-01-01 00:00:00";
		private string st_motivo = "";
		private string tg_tecnico = "0";
		private string fk_oper_criador = "0";
		
		public int var_FieldCount = 11;
		
		public T_Chamado ( infra_Patch i_patch )  : base ( i_patch )
		{
			var_Tablename = TB_T_CHAMADO.Alias;
		}
		public string exportNames()
		{
			return "fk_loja,tg_fechado,fk_operador,nu_prioridade,nu_categoria,dt_abertura,dt_fechamento,st_motivo,tg_tecnico,fk_oper_criador";
		}
		
		public string exportCSV()
		{
			return i_unique + str_field_sep + fk_loja + str_field_sep + tg_fechado + str_field_sep + fk_operador + str_field_sep + nu_prioridade + str_field_sep + nu_categoria + str_field_sep + dt_abertura + str_field_sep + dt_fechamento + str_field_sep + st_motivo + str_field_sep + tg_tecnico + str_field_sep + fk_oper_criador;
		}
		
		public void Reset()
		{
			i_unique = "0";
			fk_loja = "0";
			tg_fechado = "0";
			fk_operador = "0";
			nu_prioridade = "0";
			nu_categoria = "0";
			dt_abertura = "1900-01-01 00:00:00";
			dt_fechamento = "1900-01-01 00:00:00";
			st_motivo = "";
			tg_tecnico = "0";
			fk_oper_criador = "0";
		}
		
		public void copy ( ref T_Chamado cpy )
		{
			fk_loja = cpy.fk_loja;
			tg_fechado = cpy.tg_fechado;
			fk_operador = cpy.fk_operador;
			nu_prioridade = cpy.nu_prioridade;
			nu_categoria = cpy.nu_categoria;
			dt_abertura = cpy.dt_abertura;
			dt_fechamento = cpy.dt_fechamento;
			st_motivo = cpy.st_motivo;
			tg_tecnico = cpy.tg_tecnico;
			fk_oper_criador = cpy.fk_oper_criador;
		}
		
		public override void fetchRetrieve ( ref DB_Row row )
		{
			i_unique = row.GetField ( TB_T_CHAMADO.i_unique );
			fk_loja = row.GetField ( TB_T_CHAMADO.fk_loja );
			tg_fechado = row.GetField ( TB_T_CHAMADO.tg_fechado );
			fk_operador = row.GetField ( TB_T_CHAMADO.fk_operador );
			nu_prioridade = row.GetField ( TB_T_CHAMADO.nu_prioridade );
			nu_categoria = row.GetField ( TB_T_CHAMADO.nu_categoria );
			dt_abertura = ConvertTime ( row.GetField ( TB_T_CHAMADO.dt_abertura ) );
			dt_fechamento = ConvertTime ( row.GetField ( TB_T_CHAMADO.dt_fechamento ) );
			st_motivo = row.GetField ( TB_T_CHAMADO.st_motivo );
			tg_tecnico = row.GetField ( TB_T_CHAMADO.tg_tecnico );
			fk_oper_criador = row.GetField ( TB_T_CHAMADO.fk_oper_criador );
		}
		
		public bool synchronize_T_Chamado ( )
		{
			try{
			
			if ( m_hshChangedFields.Count == 0 )
				return true;
			
			StartUpdate();
		
			if ( m_hshChangedFields [ "fk_loja" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.fk_loja , fk_loja , TB_T_CHAMADO.type_fk_loja );
			if ( m_hshChangedFields [ "tg_fechado" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.tg_fechado , tg_fechado , TB_T_CHAMADO.type_tg_fechado );
			if ( m_hshChangedFields [ "fk_operador" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.fk_operador , fk_operador , TB_T_CHAMADO.type_fk_operador );
			if ( m_hshChangedFields [ "nu_prioridade" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.nu_prioridade , nu_prioridade , TB_T_CHAMADO.type_nu_prioridade );
			if ( m_hshChangedFields [ "nu_categoria" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.nu_categoria , nu_categoria , TB_T_CHAMADO.type_nu_categoria );
			if ( m_hshChangedFields [ "dt_abertura" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.dt_abertura , dt_abertura , TB_T_CHAMADO.type_dt_abertura );
			if ( m_hshChangedFields [ "dt_fechamento" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.dt_fechamento , dt_fechamento , TB_T_CHAMADO.type_dt_fechamento );
			if ( m_hshChangedFields [ "st_motivo" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.st_motivo , st_motivo , TB_T_CHAMADO.type_st_motivo );
			if ( m_hshChangedFields [ "tg_tecnico" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.tg_tecnico , tg_tecnico , TB_T_CHAMADO.type_tg_tecnico );
			if ( m_hshChangedFields [ "fk_oper_criador" ] != null )
				m_gen_dbStatement.AddUpdate ( TB_T_CHAMADO.fk_oper_criador , fk_oper_criador , TB_T_CHAMADO.type_fk_oper_criador );
		
			m_gen_dbStatement.AddWhere ( TB_T_CHAMADO.i_unique, i_unique, TB_T_CHAMADO.type_i_unique );
		
			} catch ( System.Exception ex ) {
				StreamWriter wr = new StreamWriter ( 	"CRITICAL_" + var_Tablename + "_" + "_" + DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Day.ToString().PadLeft ( 2, '0' ) + "_" + DateTime.Now.Hour.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Minute.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Second.ToString().PadLeft ( 2, '0' ) + ".txt" );
				wr.WriteLine ( ex.ToString() );
				wr.Flush();
				wr.Close();
			}
		
			return Update();
		}
			
		public string get_identity() { return i_unique; } 
		public string get_fk_loja() { return fk_loja; } 
		public string get_tg_fechado() { return tg_fechado; } 
		public string get_fk_operador() { return fk_operador; } 
		public string get_nu_prioridade() { return nu_prioridade; } 
		public string get_nu_categoria() { return nu_categoria; } 
		public string get_dt_abertura() { return dt_abertura; } 
		public string get_dt_fechamento() { return dt_fechamento; } 
		public string get_st_motivo() { return st_motivo; } 
		public string get_tg_tecnico() { return tg_tecnico; } 
		public string get_fk_oper_criador() { return fk_oper_criador; } 
			
		public long get_int_fk_loja() { return Convert.ToInt64 ( fk_loja ); } 
		public long get_int_tg_fechado() { return Convert.ToInt64 ( tg_fechado ); } 
		public long get_int_fk_operador() { return Convert.ToInt64 ( fk_operador ); } 
		public long get_int_nu_prioridade() { return Convert.ToInt64 ( nu_prioridade ); } 
		public long get_int_nu_categoria() { return Convert.ToInt64 ( nu_categoria ); } 
		public long get_int_tg_tecnico() { return Convert.ToInt64 ( tg_tecnico ); } 
		public long get_int_fk_oper_criador() { return Convert.ToInt64 ( fk_oper_criador ); } 
			
		public void set_fk_loja ( string val ) { fk_loja = val; m_hshChangedFields [ "fk_loja" ]="."; } 
		public void set_tg_fechado ( string val ) { tg_fechado = val; m_hshChangedFields [ "tg_fechado" ]="."; } 
		public void set_fk_operador ( string val ) { fk_operador = val; m_hshChangedFields [ "fk_operador" ]="."; } 
		public void set_nu_prioridade ( string val ) { nu_prioridade = val; m_hshChangedFields [ "nu_prioridade" ]="."; } 
		public void set_nu_categoria ( string val ) { nu_categoria = val; m_hshChangedFields [ "nu_categoria" ]="."; } 
		public void set_dt_abertura ( string val ) { dt_abertura = val; m_hshChangedFields [ "dt_abertura" ]="."; } 
		public void set_dt_fechamento ( string val ) { dt_fechamento = val; m_hshChangedFields [ "dt_fechamento" ]="."; } 
		public void set_st_motivo ( string val ) { st_motivo = val; m_hshChangedFields [ "st_motivo" ]="."; } 
		public void set_tg_tecnico ( string val ) { tg_tecnico = val; m_hshChangedFields [ "tg_tecnico" ]="."; } 
		public void set_fk_oper_criador ( string val ) { fk_oper_criador = val; m_hshChangedFields [ "fk_oper_criador" ]="."; } 
		
		public void set_fk_loja ( long val ) { fk_loja = Convert.ToString(val); m_hshChangedFields [ "fk_loja" ]="."; } 
		public void set_tg_fechado ( long val ) { tg_fechado = Convert.ToString(val); m_hshChangedFields [ "tg_fechado" ]="."; } 
		public void set_fk_operador ( long val ) { fk_operador = Convert.ToString(val); m_hshChangedFields [ "fk_operador" ]="."; } 
		public void set_nu_prioridade ( long val ) { nu_prioridade = Convert.ToString(val); m_hshChangedFields [ "nu_prioridade" ]="."; } 
		public void set_nu_categoria ( long val ) { nu_categoria = Convert.ToString(val); m_hshChangedFields [ "nu_categoria" ]="."; } 
		public void set_tg_tecnico ( long val ) { tg_tecnico = Convert.ToString(val); m_hshChangedFields [ "tg_tecnico" ]="."; } 
		public void set_fk_oper_criador ( long val ) { fk_oper_criador = Convert.ToString(val); m_hshChangedFields [ "fk_oper_criador" ]="."; } 
			
		public void fieldSelection()
		{
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.i_unique );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.fk_loja );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.tg_fechado );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.fk_operador );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.nu_prioridade );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.nu_categoria );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.dt_abertura );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.dt_fechamento );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.st_motivo );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.tg_tecnico );
			m_gen_dbStatement.AddSelect ( TB_T_CHAMADO.fk_oper_criador );
		}
			
		public bool selectAll()
		{
			do
			{
				StartSelect();
				fieldSelection();
				
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return  HasRows();
		}
		
		public bool selectIdentity ( string identity )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhere ( TB_T_CHAMADO.i_unique, identity, TB_T_CHAMADO.type_i_unique );
			
				if ( !executeQuery())
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			if ( HasRows() == true)
			{
				DB_Row row = m_db_result.GetFirstRow();
				fetchRetrieve ( ref row );
				return true;
			}
			
			return false;
		}
		
		public bool create_T_Chamado ( )
		{
			try{
			string new_id = "";
			
			StartInsert();
			
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.fk_loja, fk_loja, TB_T_CHAMADO.type_fk_loja );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.tg_fechado, tg_fechado, TB_T_CHAMADO.type_tg_fechado );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.fk_operador, fk_operador, TB_T_CHAMADO.type_fk_operador );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.nu_prioridade, nu_prioridade, TB_T_CHAMADO.type_nu_prioridade );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.nu_categoria, nu_categoria, TB_T_CHAMADO.type_nu_categoria );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.dt_abertura, dt_abertura, TB_T_CHAMADO.type_dt_abertura );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.dt_fechamento, dt_fechamento, TB_T_CHAMADO.type_dt_fechamento );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.st_motivo, st_motivo, TB_T_CHAMADO.type_st_motivo );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.tg_tecnico, tg_tecnico, TB_T_CHAMADO.type_tg_tecnico );
			m_gen_dbStatement.AddValue ( TB_T_CHAMADO.fk_oper_criador, fk_oper_criador, TB_T_CHAMADO.type_fk_oper_criador );
			
			if ( !ExecuteScalar ( ref new_id ) )
				return false;
			
			i_unique = new_id;
			
			} catch ( System.Exception ex ) {
				StreamWriter wr = new StreamWriter ( 	"CRITICAL_" + var_Tablename + "_" + "_" + DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Day.ToString().PadLeft ( 2, '0' ) + "_" + DateTime.Now.Hour.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Minute.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Second.ToString().PadLeft ( 2, '0' ) + ".txt" );
				wr.WriteLine ( ex.ToString() );
				wr.Flush();
				wr.Close();
			}
			
			return true;
		}
			
		public bool delete ( )
		{
		
			bool ret = false;
		
			try{
			StartDelete();
			
			if ( i_unique != "0" )
				m_gen_dbStatement.AddWhere ( TB_T_CHAMADO.i_unique, i_unique, TB_T_CHAMADO.type_i_unique );
			
			ret = Execute();
			
			} catch ( System.Exception ex ) {
				StreamWriter wr = new StreamWriter ( 	"CRITICAL_" + var_Tablename + "_" + "_" + DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Day.ToString().PadLeft ( 2, '0' ) + "_" + DateTime.Now.Hour.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Minute.ToString().PadLeft ( 2, '0' ) + DateTime.Now.Second.ToString().PadLeft ( 2, '0' ) + ".txt" );
				wr.WriteLine ( ex.ToString() );
				wr.Flush();
				wr.Close();
			}
			
			return ret; 
		}
			
		public bool select_rows_abert_fech ( string val_dt_abertura, string val_dt_abertura1, string val_dt_fechamento, string val_dt_fechamento1 )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_abertura, val_dt_abertura , TB_T_CHAMADO.type_dt_abertura);
				m_gen_dbStatement.AddWhereLessThan ( TB_T_CHAMADO.dt_abertura, val_dt_abertura1 , TB_T_CHAMADO.type_dt_abertura);
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_fechamento, val_dt_fechamento , TB_T_CHAMADO.type_dt_fechamento);
				m_gen_dbStatement.AddWhereLessThan ( TB_T_CHAMADO.dt_fechamento, val_dt_fechamento1 , TB_T_CHAMADO.type_dt_fechamento);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
			
		public bool select_rows_abert_fech ( string val_dt_abertura, string val_dt_abertura1, string val_dt_fechamento )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_abertura, val_dt_abertura , TB_T_CHAMADO.type_dt_abertura);
				m_gen_dbStatement.AddWhereLessThan ( TB_T_CHAMADO.dt_abertura, val_dt_abertura1 , TB_T_CHAMADO.type_dt_abertura);
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_fechamento, val_dt_fechamento , TB_T_CHAMADO.type_dt_fechamento);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
			
		public bool select_rows_abert_fech ( string val_dt_abertura, string val_dt_abertura1 )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_abertura, val_dt_abertura , TB_T_CHAMADO.type_dt_abertura);
				m_gen_dbStatement.AddWhereLessThan ( TB_T_CHAMADO.dt_abertura, val_dt_abertura1 , TB_T_CHAMADO.type_dt_abertura);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
			
		public bool select_rows_abert_fech ( string val_dt_abertura )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_abertura, val_dt_abertura , TB_T_CHAMADO.type_dt_abertura);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
			
		public bool select_rows_abert_fech_ini ( string val_dt_abertura, string val_dt_fechamento )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_abertura, val_dt_abertura , TB_T_CHAMADO.type_dt_abertura);
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_fechamento, val_dt_fechamento , TB_T_CHAMADO.type_dt_fechamento);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
			
		public bool select_rows_abert_fech_ini ( string val_dt_abertura )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_abertura, val_dt_abertura , TB_T_CHAMADO.type_dt_abertura);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
			
		public bool select_rows_fech ( string val_dt_fechamento )
		{
			do
			{
				StartSelect();
				fieldSelection();
			
				m_gen_dbStatement.AddWhereGreaterEqual ( TB_T_CHAMADO.dt_fechamento, val_dt_fechamento , TB_T_CHAMADO.type_dt_fechamento);
			
				if ( !executeQuery() )
					return false;
			}
			while ( EndSelect() == false ); // row lock
			
			return HasRows();
		}
	}
}
