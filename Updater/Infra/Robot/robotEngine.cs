// ###################################################### 
// ## SyCraf Engine Codegen                          #### 
// ###################################################### 
// ## This file is entirely written by               #### 
// ## the construction bot. DO NOT EDIT THIS FILE.   #### 
// ###################################################### 

using System;
using System.IO;
using System.Threading;
using System.Collections;
using System.Windows.Forms;
using SyCrafEngine;

namespace Client
{
	public class RobotEngine : Infra_RobotEngine
	{		
		public Exchange var_exchange;
		public ApplicationUtil var_util;
		
		public void execJob ( string label, ref ListBox cmds, int timeout, bool update )
		{
			RobotJob job = config.getJob ( label );
			var_util.var_robot = job;
			
			if ( job != null )
			{
				job.run ( ref hsh_layers, ref hsh_layers_events, ref cmds, timeout, update );
			}
			else
			{
				MessageBox.Show ( "Unknown Job!", "Error" );
			}
		}
		
		public RobotEngine ( ApplicationUtil util, Exchange ex )
		{
			var_exchange = ex;
			var_util = util;
			
			#if ROBOT
			
			event_MainForm tmp_event_MainForm = new event_MainForm ( util, ex );
			tmp_event_MainForm.mapEvents ( ref lst_layers, ref hsh_layers_events );
			hsh_layers [ "MainForm" ] = tmp_event_MainForm;
			
			Load();
			
			#endif
		}
	}
}
